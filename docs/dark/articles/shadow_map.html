<!DOCTYPE html>
<html>
  <head>
    <title>Shadow Map Frustum â€¢ Nathan McMillan</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="/css/dark.css" />
  </head>
  <body>
    <header>
      <div class="header-left"><a href="/dark/index.html">nathan mcmillan</a></div>
      <div>
        <a href="/dark/articles.html">articles</a>
        <a href="/dark/projects.html">projects</a>
        <a href="/dark/photos.html">photos</a>
        <a href="/dark/resume.html">resume</a>
      </div>
    </header>
    <main class="articles">
      <section>
        <h1>How to calculate directional light frustum from the camera</h1>
        <pre>
void matrix_frustum_corners(vec4 *corners, float *matrix) {

    corners[0] = (vec4){-1, -1, -1, 1};
    corners[1] = (vec4){1, -1, -1, 1};
    corners[2] = (vec4){-1, 1, -1, 1};
    corners[3] = (vec4){1, 1, -1, 1};
    corners[4] = (vec4){-1, -1, 1, 1};
    corners[5] = (vec4){1, -1, 1, 1};
    corners[6] = (vec4){-1, 1, 1, 1};
    corners[7] = (vec4){1, 1, 1, 1};

    vec4 transform;
    for (int i = 0; i < 8; i++) {
        matrix_multiply_vector4(&transform, matrix, &corners[i]);
        corners[i].x = transform.x / transform.w;
        corners[i].y = transform.y / transform.w;
        corners[i].z = transform.z / transform.w;
        corners[i].w = 1;
    }
}
        </pre>
      </section>
    </main>
    <hr />
    <footer>
      <a href="https://github.com/nathanmcmillan" title="visit my github"> <img class="testme" src="/svg/github-brands.svg" /></a>
      <a href="mailto:nate@domain.com" title="send me an email"> <img src="/svg/envelope-solid.svg" /></a>
      <a href="/articles/shadow_map.html" title="light color scheme"> <img src="/svg/moon-solid.svg" /></a>
    </footer>
  </body>
</html>
